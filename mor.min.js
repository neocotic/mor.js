/*!
 * mor.js v1.0.1
 * http://forchoon.com/projects/javascript/mor-js/
 *
 * Copyright 2011, Alasdair Mercer
 * Licensed under the GPL Version 3 license.
 */
var MorJS=function(){function j(a,b){var c="";for(var d=0;d<b;d++){c+=a}return c}function i(a,b,c,d){if(typeof a!=="string"){throw new TypeError("Invalid value type: "+typeof a)}var e=typeof d==="string",f=a.trim().split(b);for(var g=0;g<f.length;g++){f[g]=f[g].split(c);if(e){for(var h=0;h<f[g].length;h++){f[g][h]=f[g][h].split(d).join("")}}}return f}function h(a,b,c,d,e,f){var g=typeof f==="string",h="";for(var i=0;i<a.length;i++){if(g&&i>0){h+=f}switch(a[i]){case b:h+=c;break;case d:h+=e;break}}return h}function g(a){if(typeof a==="string"){a=a.toLowerCase();for(var c=0;c<d.length;c++){if(d[c][0]===a){return d[c]}}}return g(b)}function f(b,c){b=b.toUpperCase();for(var d=0;d<a.length;d++){if(a[d][c]===b){return a[d]}}}var a=[["A","SL"],["B","LSSS"],["C","LSLS"],["D","LSS"],["E","S"],["F","SSLS"],["G","LLS"],["H","SSSS"],["I","SS"],["J","SLLL"],["K","LSL"],["L","SLSS"],["M","LL"],["N","LS"],["O","LLL"],["P","SLLS"],["Q","LLSL"],["R","SLS"],["S","SSS"],["T","L"],["U","SSL"],["V","SSSL"],["W","SLL"],["X","LSSL"],["Y","LSLL"],["Z","LLSS"],["0","LLLLL"],["1","SLLLL"],["2","SSLLL"],["3","SSSLL"],["4","SSSSL"],["5","SSSSS"],["6","LSSSS"],["7","LLSSS"],["8","LLLSS"],["9","LLLLS"],[".","SLSLSL"],[",","LLSSLL"],["?","SSLLSS"],["'","SLLLLS"],["!","LSLSLL"],["/","LSSLS"],["(","LSLLS"],[")","LSLLSL"],["&","SLSSS"],[":","LLLSSS"],[";","LSLSLS"],["=","LSSSL"],["+","SLSLS"],["-","LSSSSL"],["_","SSLLSL"],['"',"SLSSLS"],["$","SSSLSSL"],["@","SLLSLS"],["Ä","SLSL"],["Æ","SLSL"],["Ą","SLSL"],["À","SLLSL"],["Å","SLLSL"],["Ç","LSLSS"],["Ĉ","LSLSS"],["Ć","LSLSS"],["Š","LLLL"],["Ð","SSLLS"],["Ś","SSSLSSS"],["È","SLSSL"],["Ł","SLSSL"],["É","SSLSS"],["Đ","SSLSS"],["Ę","SSLSS"],["Ĝ","LLSLS"],["Ĥ","LLLL"],["Ĵ","SLLLS"],["Ź","LLSSLS"],["Ñ","LLSLL"],["Ń","LLSLL"],["Ö","LLLS"],["Ø","LLLS"],["Ó","LLLS"],["Ŝ","SSSLS"],["Þ","SLLSS"],["Ü","SSLL"],["Ŭ","SSLL"],["Ż","LLSSL"]],b="classic",c="L",d=[],e="S";d.push(["classic",["·","-"," ",j(" ",3),j(" ",7)]]);d.push(["classic-entities",["·","&#45;"," ",j(" ",3),j(" ",7)]]);d.push(["digital",["1",j("1",3),"0",j("0",3),j("0",7)]]);d.push(["simple",["0","1","",","," "]]);return{decode:function(a){a=a||{};var b=g(a.mode)[1],d="",j=i(a.message||"",b[4],b[3],b[2]);if(j.length){for(var k=0;k<j.length;k++){if(k>0){d+=" "}for(var l=0;l<j[k].length;l++){var m=h(j[k][l],b[0],e,b[1],c);if(m){var n=f(m,1);if(n){d+=n[0]}}}}}return d},defineChar:function(b,c){if(typeof b!=="string"){throw new TypeError("Invalid character type: "+typeof b)}else if(typeof c!=="string"){throw new TypeError("Invalid pattern type: "+typeof c)}if(b.length>1){throw new Error("Invalid character length: "+b.length)}var d=b.toUpperCase(),e=c.trim().toUpperCase();if(!/^[SL]+$/.test(e)){throw new Error("Invalid pattern: "+c)}var g=f(d,0);if(g){g[1]=e}else{a.push([d,e])}},defineMode:function(a,b){if(typeof a!=="string"){throw new TypeError("Invalid name type: "+typeof a)}if(typeof b!=="object"){throw new TypeError("Invalid characters type: "+typeof b)}var f=a.toLowerCase(),h=[];if(b.length!==5){throw new Error("Invalid characters length: "+b.length)}for(var i=0;i<b.length;i++){if(typeof b[i]!=="string"){throw new Error("Invalid character type at ["+i+"]: "+typeof b[i])}if(b[i].indexOf(c)!==-1){throw new Error("Invalid character found at ["+i+"]: "+c)}else if(b[i].indexOf(e)!==-1){throw new Error("Invalid character found at ["+i+"]: "+e)}h.push(b[i].toUpperCase())}var j=g(f);if(j){j[1]=h}else{d.push([f,h])}},encode:function(a){a=a||{};var b=g(a.mode)[1],d="",j=i(a.message||"",/\s+/,"");if(j.length){for(var k=0;k<j.length;k++){if(k>0){d+=b[4]}for(var l=0;l<j[k].length;l++){if(l>0){d+=b[3]}var m=f(j[k][l],0);if(m){d+=h(m[1],e,b[0],c,b[1],b[2])}}}}return d},version:"1.0.1"}}();if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=MorJS}exports.MorJS=MorJS}else if(typeof define==="function"&&define.amd){define("morjs",function(){return MorJS})}